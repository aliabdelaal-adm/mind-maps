<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู - ุงูุฎุฑุงุฆุท ุงูุฐูููุฉ</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <div class="container">
        <header class="admin-header">
            <h1>๐ฏ ููุญุฉ ุงูุชุญูู - ุงูุฎุฑุงุฆุท ุงูุฐูููุฉ</h1>
            <p>ุฅุฏุงุฑุฉ ุงุญุชุฑุงููุฉ ูุณููุฉ ูุฌููุน ุนูุงุตุฑ ุงูุฎุฑูุทุฉ ุงูุฐูููุฉ</p>
            <div class="header-actions">
                <a href="quick-create.html" class="btn btn-primary" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border: none;">โจ ุฅูุดุงุก ุณุฑูุน ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</a>
                <a href="index.html" class="btn btn-secondary" target="_blank">๐ ุนุฑุถ ุงูุฎุฑูุทุฉ ุงูุฐูููุฉ</a>
                <button id="githubConfigBtn" class="btn btn-info">โ๏ธ ุฅุนุฏุงุฏุงุช GitHub</button>
                <button id="saveToGithubBtn" class="btn btn-primary" style="display: none;">๐พ ุงูุญูุธ ูุจุงุดุฑุฉ ูู GitHub</button>
                <button id="importBtn" class="btn btn-info">๐ฅ ุงุณุชูุฑุงุฏ JSON</button>
                <button id="importFreeplaneBtn" class="btn btn-info" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">๐ฅ ุงุณุชูุฑุงุฏ Freeplane</button>
                <button id="exportBtn" class="btn btn-success">๐ค ุชุตุฏูุฑ JSON</button>
                <button id="exportFreeplaneBtn" class="btn btn-success" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">๐ค ุชุตุฏูุฑ Freeplane</button>
            </div>
        </header>

        <div class="quick-stats">
            <div class="stat-card">
                <div class="stat-icon">๐</div>
                <div class="stat-info">
                    <div class="stat-value" id="totalWorks">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุฃุนูุงู</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">๐</div>
                <div class="stat-info">
                    <div class="stat-value" id="totalCategories">0</div>
                    <div class="stat-label">ุงููุฆุงุช</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">๐จ</div>
                <div class="stat-info">
                    <div class="stat-value" id="totalTypes">0</div>
                    <div class="stat-label">ุงูุฃููุงุน</div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="toolbar">
                <button id="addNewBtn" class="btn btn-primary btn-large">
                    โ ุฅุถุงูุฉ ุนูู ุฌุฏูุฏ
                </button>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="๐ ุจุญุซ ูู ุงูุฃุนูุงู...">
                </div>
                <select id="filterCategory" class="filter-select">
                    <option value="">ุฌููุน ุงููุฆุงุช</option>
                </select>
                <select id="filterType" class="filter-select">
                    <option value="">ุฌููุน ุงูุฃููุงุน</option>
                </select>
            </div>

            <div id="worksList" class="works-list">
                <!-- Works will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="modalTitle">ุฅุถุงูุฉ ุนูู ุฌุฏูุฏ</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="workForm">
                    <input type="hidden" id="workId">
                    
                    <div class="form-group">
                        <label for="workTitle">ุนููุงู ุงูุนูู *</label>
                        <input type="text" id="workTitle" required placeholder="ุฃุฏุฎู ุนููุงู ุงูุนูู">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="workType">ููุน ุงูุนูู *</label>
                            <input type="text" id="workType" required placeholder="ูุซุงู: ูุจุงุฏุฑุฉุ ุชูุฑูุฑุ ุฏุฑุงุณุฉ" list="typesList">
                            <datalist id="typesList">
                                <option value="ูุจุงุฏุฑุฉ">
                                <option value="ุชูุฑูุฑ">
                                <option value="ุฏุฑุงุณุฉ">
                                <option value="ุจุญุซ">
                            </datalist>
                        </div>

                        <div class="form-group">
                            <label for="workCategory">ุงููุฆุฉ *</label>
                            <input type="text" id="workCategory" required placeholder="ูุซุงู: ุงูุชูููููุฌูุงุ ุงูุชูุงุฑูุฑ" list="categoriesList">
                            <datalist id="categoriesList">
                                <option value="ุงูุชูููููุฌูุง">
                                <option value="ุงูุชูุงุฑูุฑ">
                                <option value="ุงูุจุญูุซ">
                            </datalist>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="workDescription">ุงููุตู</label>
                        <textarea id="workDescription" rows="3" placeholder="ุฃุฏุฎู ูุตูุงู ูุฎุชุตุฑุงู ููุนูู"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ุฑูุงุจุท ุงูุชุญููู</label>
                        <div class="links-container">
                            <div class="link-input-group">
                                <span class="link-label">๐ PDF:</span>
                                <input type="url" id="pdfLink" placeholder="https://example.com/file.pdf">
                            </div>
                            <div class="link-input-group">
                                <span class="link-label">๐ Word:</span>
                                <input type="url" id="wordLink" placeholder="https://example.com/file.docx">
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">๐พ ุญูุธ</button>
                        <button type="button" class="btn btn-secondary" id="cancelBtn">โ ุฅูุบุงุก</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Import Modal -->
    <div id="importModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="import-zone">
                    <p>๐ ูู ุจูุตู ูุญุชูู ููู JSON ุฃู ุงุณุญุจ ููู JSON ููุง</p>
                    <textarea id="importData" rows="10" placeholder='{"works": [...]}'></textarea>
                    <input type="file" id="importFile" accept=".json" style="display: none;">
                    <div class="form-actions">
                        <button id="selectFileBtn" class="btn btn-secondary">ุงุฎุชูุงุฑ ููู</button>
                        <button id="importDataBtn" class="btn btn-primary">ุงุณุชูุฑุงุฏ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Freeplane Import Modal -->
    <div id="importFreeplaneModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>๐ฅ ุงุณุชูุฑุงุฏ ูู Freeplane</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="import-zone" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);">
                    <p>๐บ๏ธ ุงุฑูุน ููู Freeplane (.mm) ูุชุญูููู ุฅูู ุฎุฑูุทุฉ ุฐูููุฉ ุชูุงุนููุฉ</p>
                    <p style="font-size: 0.9rem; color: #666;">ูุฏุนู ุชูุณูู XML ุงูููุงุณู ูู Freeplane ูุน ุงูุญูุงุธ ุนูู ุงูุจููุฉ ูุงูุฃููููุงุช ูุงูููุงุญุธุงุช</p>
                    <input type="file" id="importFreeplaneFile" accept=".mm,.xml" style="display: block; margin: 1rem auto;">
                    <div id="freeplanePreview" style="display: none; margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                        <h4>ูุนุงููุฉ ุงูููู</h4>
                        <p id="freeplaneFileInfo"></p>
                    </div>
                    <div class="form-actions">
                        <button id="importFreeplaneDataBtn" class="btn btn-primary" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">๐ ุงุณุชูุฑุงุฏ ูุชุญููู</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>ุชุฃููุฏ ุงูุญุฐู</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p class="warning-message">โ๏ธ ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุนููุ</p>
                <p id="deleteWorkName" class="delete-work-name"></p>
                <div class="form-actions">
                    <button id="confirmDeleteBtn" class="btn btn-danger">๐๏ธ ูุนูุ ุงุญุฐู</button>
                    <button class="btn btn-secondary close">ุฅูุบุงุก</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GitHub Configuration Modal -->
    <div id="githubConfigModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>โ๏ธ ุฅุนุฏุงุฏุงุช GitHub</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="github-info">
                    <p>๐ ูุญูุธ ุงูุชุบููุฑุงุช ูุจุงุดุฑุฉ ูู GitHubุ ูุฌุจ ุชูููู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ:</p>
                    <ul>
                        <li>๐ Personal Access Token ูู GitHub</li>
                        <li>๐ค ุงุณู ุงููุงูู (Owner)</li>
                        <li>๐ฆ ุงุณู ุงููุณุชูุฏุน (Repository)</li>
                        <li>๐ฟ ุงุณู ุงููุฑุน (Branch)</li>
                    </ul>
                    <p class="info-note">๐ก ุณูุชู ุญูุธ ูุฐู ุงูุฅุนุฏุงุฏุงุช ูุญููุงู ูู ุงููุชุตูุญ</p>
                </div>
                <form id="githubConfigForm">
                    <div class="form-group">
                        <label for="githubToken">Personal Access Token *</label>
                        <input type="password" id="githubToken" required placeholder="ghp_xxxxxxxxxxxx">
                        <small>ููููู ุฅูุดุงุก Token ูู: Settings โ Developer settings โ Personal access tokens โ Tokens (classic)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="githubOwner">ุงุณู ุงููุงูู *</label>
                        <input type="text" id="githubOwner" required placeholder="username or organization">
                    </div>
                    
                    <div class="form-group">
                        <label for="githubRepo">ุงุณู ุงููุณุชูุฏุน *</label>
                        <input type="text" id="githubRepo" required placeholder="repository-name">
                    </div>
                    
                    <div class="form-group">
                        <label for="githubBranch">ุงุณู ุงููุฑุน *</label>
                        <input type="text" id="githubBranch" required placeholder="main" value="main">
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
                        <button type="button" class="btn btn-secondary close">โ ุฅูุบุงุก</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="freeplane-service.js"></script>
    <script src="admin.js"></script>
</body>
</html>
